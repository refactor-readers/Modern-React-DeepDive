프론트엔드에서 접할 수 있는 보안 이슈에 대해서 주로 다룬다고 합니다.

# 14.1 리액트에서 발생하는 크로스 사이트 스크립팅(XSS)

웹사이트 개발자가 아닌 제3자가 웹사이트에 악성 스크립트를 삽입해 실행할 수 있는 취약점을 의미한다.

- 일반적으로 게시판과 같이 사용자가 입력을 할 수 있고, 이 입력을 다른 사용자에게 보여줄 수 있는 경우 발생한다.

## 14.1.1 dangerouslySetlnnerHTML prop

특정 브라우저 DOM의 innerHTML을 특정한 내용으로 교체할 수 있는 방법이다.

- 인수로 받은 `_html` 키가 있는 객체를 무조건 DOM에 그대로 표시함

# 14.1.2 useRef를 활용한 직접 삽입

- useRef를 사용하면 직접 DOM에 접근할 수 있으므로 이 DOM에 앞서 비슷한 방식으로 innerHTML에 보안 취약점이 있는 스크립트를 삽입하면 동일한 문제가 발생한다.

## 14.1.3 리액트에서 XSS 문제를 피하는 방법

제 3자가 삽입할 수 있는 HTML을 안전한 HTML 코드로 한 번 치환하는 것
=> 새니타이즈(sanitize) 또는 이스케이프(escape)라고 하는함

- npm에 있는 라이브러리를 사용할 수 있음
  - DOMpurity
  - sanitize-html
  - js-xss

보여줄 때 뿐만 아니라 저장할 때도 이 같은 과정을 거치는 것이 안전하다.

- 저장될 때 이스케이프하면 그 뒤로 보여줄 때마다 일일히 이스케이프 과정을 거치지 않아도 훨씬 효율적이기 때문
- 이러한 치환 과정은 되도록 서버에서 수행하는 것이 좋다.

#### 쿼리스트링에 있는 내용 그대로 실행하거나 보여주는 경우에도 보안 취약점이 발생할 수 있다.

#### 리액트의 JSX 데이터 바인딩

리액트는 기본적으로 XSS를 방어하기 위해 이스케이프 작업이 존재하기 때문에 dangerouslySetInnerHTML이라는 속성이 별도로 존재한다.

# 14.2 getServerSideProps와 서버 컴포넌트를 주의하자

서버에는 일반 사용자에게 노출되면 안 되는 정보들이 담겨 있기 때문에 클라이언트, 즉 브라우저에 정보를 내려줄 때는 조심해야 한다.
