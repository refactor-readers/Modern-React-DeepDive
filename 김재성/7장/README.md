# 7장. 크롬 개발자 도구를 활용한 애플리케이션 분석

## 7.1 크롬 개발자 도구란?
크롬에서 제공하는 개발자용 도구로, 웹페이지에서 일어나는 거의 모든 일을 확인할 수 있는 강력한 개발 도구다.

## 7.2 요소 탭
현재 웹페이지를 구성하고 있는 HTML, CSS 등의 정보를 확인할 수 있다.

그 외에도 렌더링 중단점 설정을 통한 디버깅, DOM직접 수정으로 UI변화 확인 등 액션이 가능하다

### 요소 정보

- 스타일: 요소와 관련된 스타일 정보(클래스, 태그, 아이디 등)
- 계산됨: 해당 요소의 크기, 패딩, 보더, 마진 등
- 레이아웃: CSS그리드나 레이아웃과 관련된 정보
- 이벤트 리스너: 현재 요소에 부착된 각종 이벤트 리스너를 확인할 수 있다
- DOM 중단점: 중단점 여부 확인
- 속성: 해당 요소가 가지고 있는 모든 속성값을 나타낸다
- 접근성: 웹 취약계층을 위한 디바이스가 활용하는 값

## 7.3 소스 탭
웹 애플리케이션을 불러오기 위해 실행하거나 참조된 모든 파일을 확인할 수 있다.
js,CSS,HTML 폰트 등등

추가로 소스코드를 오염시키지않고 브라우저에서 디버깅이 가능하다는 장점도 존재한다

소스탭 우측에서 제공하는 정보
- 감시: 감시하고 싶은 변수 선언 뒤 확인 가능
- 중단점: 현재 웹사이트에서 추가한 중단점 확인 가능
- 범위: 현재 중단점에서의 스코프
- 호출 스택: 현재 중단점의 콜스택 확인 가능
  - js코드가 실행되며 생성되는 실행 컨텍스트가 어떻게 저장되어 현재 어떤 모습을 하고 있는지 직접 볼 수 있다
- 전역 리스너: 현재 전역 스코프에 추가된 리스너 목록을 확인할 수 있다.
- XHR/가져오기, DOM. 이벤트 리스너, CSP 위반 중단점: 소스의 중단점 이외에 다양한 중단점을 확인 가능

## 7.4 네트워크 탭
해당 웹페이지를 접속하는 순간부터 발생하는 모든 네트워크 관련 작동이 기록된다. HTTP 요청부터 웹 소켓에 이르기까지, 웹페이지가 외부 데이터와 통신하는 정보를 확인 할 수 있다.

네트워크 탭을 통해 집중적으로 확인해 봐야 하는 점은 다음과 같다.
- 불필요한 요청 또는 중복되는 요청이 없는지
- 웹페이지 구성에 필요한 리소스 크기가 너무 크지 않은지
- 리소스를 불러오는 속도는 적절한지 또는 너무 속도가 오래 걸리는 리소스는 없는지
- 리소스가 올바른 우선순위로 다운로드되어 페이지를 자연스럽게 만들어가는지

## 7.5 메모리 탭
웹페이지가 차지하고 있는 메모리 관련 정보를 확인할 수 있다. 

메모리 누수, 속도 저하, 웹페이지 프리징 현상을 확인할 수 있는 유용한 도구다

각 프로파일링의 유형은 다음과 같은 특징이 있다
- 힙 스냅샷: 스냅샷이라는 이름에 걸맞게 현재 메모리 상황을 사진 찍듯이 촬영할 수 있다. 현재 시점의 메모리 상황을 알고 싶다면 힙 스냅샷을 활용하면 된다.

- 타임라인의 할당 계측: 현재 시점의 메모리 상황이 아닌, 시간의 흐름에 따라 메모리의 변화를 살펴보고 싶다면 타임라인의 할당 계측을 사용하면 된다. 주로 로딩이 되는 과정의 메모리 변화 또는 페이지에서 어떠한 상호작용을 했을 때 메모리의 변화 과정을 알고 싶을 때 사용한다

- 할당 샘플링: 메모리 공간을 차지하고 있는 자바스크립트 함수를 볼 수 있다.

## 7.6 Next.js 환경 디버깅하기

nextjs를 디버그 모드로 실행하는법
```
"dev": NODE_OPTIONS='--inspect' next dev
```

서버 과부화 테스트는 트래픽을 발생시켜서 확인하는 편이 좋고 실제 트래픽을 발생시키기 힘들기 때문에 아파치 재단에서 제공하는 **'ab'라는 오픈소스 도구**를 이용하는 것이 좋다

ab를 사용하면 단순히 요청을 수행하는 것뿐만 아니라 요청으로부터 응답받는 데 걸린 시간, 바이트 크기 등 다양한 정보를 확인할 수 있다