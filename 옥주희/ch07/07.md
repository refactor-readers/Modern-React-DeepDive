# 07장. 크롬 개발자 도구를 활용한 애플리케이션 분석

## 7.1 크롬 개발자 도구란?

- 브라우저에서 실행 중인 웹 애플리케이션의 HTML, CSS, JS, 네트워크, 메모리 상태를 확인할 수 있는 도구이다.
- 단순히 에러 로그를 보는 용도가 아니라 페이지의 구성과 언제 무엇이 실행되는지를 추적하는 것이 목적이다.

## 7.2 요소 탭
- 현재 웹페이지의 실제 DOM 구조를 확인할 수 있다(HTML, CSS 등)

### 7.2.1 요소 화면
- 웹페이지의 DOM을 직접 수정한 후 즉각적인 UI 변화를 확인할 수 있다(요소에 속성 추가, 수정, 삭제 등)

### 7.2.2 요소 정보
요소 정보에서는 해당 요소와 관련된 모든 정보를 확인할 수 있다. DOM과 관련된 정보가 필요할 때는 요소 탭을 확인하면 된다.
- 스타일
- 계산됨 
- 레이아웃
- 이벤트 리스너
- DOM 중단점
- 속성
- 접근성

## 7.3 소스 탭
- 웹 앱을 불러오기 위해 실행하거나 참조된 모든 파일 확인 가능(CSS, HTML, 폰트 등)
- 프로덕션 모드의 파일은 압축돼 있기에 디버깅 불편, 개발 모드 유용(실제 코드 확인 가능)
- 중단점 설정 시 빌드된 자바스크립트 또는 실제 개발중인 스크립트 파일 확인 가능
- 소스탭의 메뉴들
    - 감시 : 특정 변수의 값을 알고 싶을 때 활용
    - 중단점 : 웹페이지 전체에 걸쳐 소스탭에서 추가한 모든 중단점 확인 가능
    - 범위 : 중단점에서의 스코프(범위)를 의미하며 해당 스코프에서 접근할 수 있는 범위 확인 가능(+ 클로저, 전역 스코프 등)
    - 호출스택 : 중단점의 콜스택  확인 가능. js실행컨텐스트 확인 가능
    - 전역 리스너 : 리스너 목록
- console.log대신 중단점을 사용해 소스 탭에서 활용 가능

## 7.4 네트워크 탭
- 네트워크 탭은 웹페이지 로딩 과정에서 발생하는 모든 네트워크 요청을 자동으로 기록한다.
- 브라우저가 서버와 통신하는 HTTP 요청/응답 전체 흐름을 확인할 수 있다.
- 주로 HTTP 요청을 사용하는 웹 애플리케이션에서 가장 자주 활용되는 탭이다.

#### 네트워크 탭에서 확인할 수 있는 정보
- 요청 URL
- 요청 메서드(GET, POST 등)
- 상태 코드(200, 404, 500 등)
- 요청/응답 헤더
- 응답 데이터(body)
- 요청 소요 시간

#### 필터 기능
- Fetch/XHR
- JS
- CSS
- 이미지
- 문서
- WebSocket, Wasm 등

특정 종류의 요청만 필터링해 확인 가능

#### 네트워크 탭 활용 목적
- API 요청이 정상적으로 호출됐는지 확인
- 요청이 몇 번 호출됐는지 확인
- 응답이 의도한 데이터인지 확인
- 네트워크 요청이 성능 병목이 되는지 확인

## 7.5 메모리 탭
- 메모리 탭은 현재 웹페이지가 사용 중인 메모리 상태를 확인할 수 있는 도구이다.
- 자바스크립트 객체, DOM 노드, 클로저 등이 메모리에 어떻게 유지되고 있는지를 분석할 수 있다.
- 메모리 누수를 확인하기 위해 사용한다.


### 7.5.1 자바스크립트 인스턴스 VM
- 메모리 탭에서는 자바스크립트 VM 기준으로 메모리를 분석한다.
- 분석 대상이 되는 자바스크립트 실행 환경을 선택할 수 있다.
- 여러 VM이 존재하는 경우, 현재 실행 중인 VM을 선택해 분석해야 한다.

### 7.5.2 힙 스냅샷
- 힙 스냅샷은 특정 시점의 메모리 상태를 캡처하는 기능이다.
- 힙 스냅샷을 여러 번 찍어 이전 상태와 비교할 수 있다.
- 객체가 정상적으로 해제되는지, 계속 남아 있는지 확인 가능하다.

#### 힙 스냅샷 활용
- 특정 이벤트 전후 스냅샷 비교
- 클릭, 상태 변경 이후 메모리 증가 여부 확인
- 불필요하게 유지되는 객체 탐색

## 7.6 Next.js환경 디버깅하기
- 크롬 개발자 도구는 브라우저뿐 아니라 노드 환경에서도 사용 가능하다.
- 노드의 "--inspect" 옵션을 사용해 노드 애플리케이션을 디버깅할 수 있다.

### 7.6.1 Next.js 프로젝트를 디버그 모드로 실행하기
- Next.js 개발 서버를 실행할 때 inspect 옵션을 사용한다.
- 크롬에서 chrome://inspect 페이지를 통해 연결할 수 있다.

